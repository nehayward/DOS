language: go
go:
  - 1.7.x
  - master

jobs:
  include:
    - stage: Build DOS Docker Image
      script:
      - docker build -t dos .
      - docker run -d -p 8080:8080 dos
      - docker ps -a
    - stage: Test DOS api
      install:
        - go get github.com/gorilla/mux
      script: go test github.com/nehayward/DOS/core -v
